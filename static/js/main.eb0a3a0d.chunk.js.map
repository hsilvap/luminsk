{"version":3,"sources":["assets/cart.svg","constants.js","components/Product/Product.component.js","components/AllProducts/AllProducts.component.js","components/Header/Header.component.js","components/Sidebar/Sidebar.styled.js","components/CartProduct/CartProduct.component.js","components/Sidebar/Sidebar.component.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","MONEYFORMATTER","Intl","NumberFormat","style","currency","CURRENCIES","StyledProduct","styled","div","Product","id","price","image_url","title","addToCart","openSidebar","src","alt","format","onClick","AllProductsWrapper","ProductInfoWrapper","ProductsWrapper","ProductInfoSectionWrapper","AllProducts","data","addProduct","defaultValue","value","products","map","prod","key","StyledHeader","StyledButtonsWrapper","Header","totalItems","open","textAlign","margin","width","height","fill","cart","BackDrop","StyledSidebar","p","CartProductWrapper","AmountWrapper","AmountModifierWrapper","span","FooterWrapper","CartProduct","amount","modifyAmount","removeProduct","cursor","HeaderWrapper","StyledFooter","footer","StyledSelect","select","Sidebar","items","close","setcurrency","total","reduce","prevValue","currentValue","Fragment","onChange","e","target","curr","item","backgroundColor","color","App","useState","state","setstate","setopenSidebar","ALL_PRODUCTS","gql","useQuery","useEffect","current","forEach","find","x","length","product","newItem","productId","increment","filter","Boolean","window","location","hostname","match","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,kC,wNCA9BC,EAAiB,IAAIC,KAAKC,aAAa,QAAS,CAC3DC,MAAO,WACPC,SAAU,QAGCC,EAAa,CACxB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,O,qXCvIF,IAAMC,EAAgBC,IAAOC,IAAV,KAkCJC,EAfC,SAAC,GAA6D,IAA3DC,EAA0D,EAA1DA,GAAIC,EAAsD,EAAtDA,MAAOC,EAA+C,EAA/CA,UAAWC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAKzD,OACE,kBAACT,EAAD,KACE,yBAAKU,IAAKJ,EAAWK,IAAKJ,IAC1B,+BAAQA,GACR,8CAAgBb,EAAekB,OAAOP,KACtC,4BAAQQ,QATQ,WAClBL,EAAU,CAAEJ,KAAIC,QAAOC,YAAWC,UAClCE,MAOE,iB,svBC9BN,IAAMK,EAAqBb,IAAOC,IAAV,KAIlBa,EAAqBd,IAAOC,IAAV,KAMlBc,EAAkBf,IAAOC,IAAV,KAUfe,EA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","file":"static/js/main.eb0a3a0d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cart.446d380d.svg\";","export const MONEYFORMATTER = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD'\n})\n\nexport const CURRENCIES = [\n  'USD',\n  'AED',\n  'AFN',\n  'ALL',\n  'AMD',\n  'ANG',\n  'AOA',\n  'ARS',\n  'AUD',\n  'AWG',\n  'AZN',\n  'BAM',\n  'BBD',\n  'BDT',\n  'BGN',\n  'BIF',\n  'BMD',\n  'BND',\n  'BOB',\n  'BRL',\n  'BSD',\n  'BWP',\n  'BZD',\n  'CAD',\n  'CDF',\n  'CHF',\n  'CLP',\n  'CNY',\n  'COP',\n  'CRC',\n  'CVE',\n  'CZK',\n  'DJF',\n  'DKK',\n  'DOP',\n  'DZD',\n  'EGP',\n  'ETB',\n  'EUR',\n  'FJD',\n  'FKP',\n  'GBP',\n  'GEL',\n  'GIP',\n  'GMD',\n  'GNF',\n  'GTQ',\n  'GYD',\n  'HKD',\n  'HNL',\n  'HRK',\n  'HTG',\n  'HUF',\n  'IDR',\n  'ILS',\n  'INR',\n  'ISK',\n  'JMD',\n  'JPY',\n  'KES',\n  'KSG',\n  'KHR',\n  'KMF',\n  'KRW',\n  'KYD',\n  'KZT',\n  'LAK',\n  'LBP',\n  'LKR',\n  'LRD',\n  'LSL',\n  'MAD',\n  'MDL',\n  'MGA',\n  'MKD',\n  'MMK',\n  'MNT',\n  'MOP',\n  'MRO',\n  'MUR',\n  'MVR',\n  'MWK',\n  'MXN',\n  'MYR',\n  'MZN',\n  'NAD',\n  'NGN',\n  'NIO',\n  'NOK',\n  'NPR',\n  'NZD',\n  'PAB',\n  'PEN',\n  'PGK',\n  'PHP',\n  'PKR',\n  'PLN',\n  'PYG',\n  'QAR',\n  'RON',\n  'RSD',\n  'RUB',\n  'RWF',\n  'SAR',\n  'SBD',\n  'SCR',\n  'SEK',\n  'SGD',\n  'SHP',\n  'SLL',\n  'SOS',\n  'SRD',\n  'STD',\n  'SVC',\n  'SZL',\n  'THB',\n  'TJS',\n  'TOP',\n  'TRY',\n  'TTD',\n  'TWD',\n  'TZS',\n  'UAH',\n  'UGX',\n  'UYU',\n  'UZS',\n  'VND',\n  'VUV',\n  'WST',\n  'XAF',\n  'XCD',\n  'XOF',\n  'XPF',\n  'YER',\n  'ZAR',\n  'ZMW']\n","/* eslint-disable camelcase */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { MONEYFORMATTER } from '../../constants'\n\nconst StyledProduct = styled.div`\n  display: flex;\n  flex-flow: column;\n  min-height: 400px;\n  justify-content: center;\n  align-items: center;\n  > img {\n    margin: 2em;\n    max-width: 100px;\n    max-height: 100px;\n  }\n  > button {\n    background-color: #4b5648;\n    color: white;\n    padding: 1em;\n    margin: 1em;\n  }\n`\n\nconst Product = ({ id, price, image_url, title, addToCart, openSidebar }) => {\n  const handleClick = () => {\n    addToCart({ id, price, image_url, title })\n    openSidebar()\n  }\n  return (\n    <StyledProduct>\n      <img src={image_url} alt={title} />\n      <label>{title}</label>\n      <label>{`From ${MONEYFORMATTER.format(price)}`}</label>\n      <button onClick={handleClick}>Add to Cart</button>\n    </StyledProduct>\n  )\n}\n\nexport default Product\n\nProduct.propTypes = {\n  id: PropTypes.number.isRequired,\n  price: PropTypes.number.isRequired,\n  image_url: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  addToCart: PropTypes.func.isRequired,\n  openSidebar: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Product from '../Product'\n\nconst AllProductsWrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n`\nconst ProductInfoWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 3fr 7fr;\n  width: 100%;\n  align-items: center;\n`\nconst ProductsWrapper = styled.div`\n  display: grid;\n  heigth: 100%;\n  background-color: #e2e6e3;\n  grid-template-columns: repeat(3, 1fr);\n  @media (max-width: 767px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n`\n\nconst ProductInfoSectionWrapper = styled.div`\n  display: flex;\n  min-height: 250px;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  > h2 {\n    margin-bottom: 0px;\n  }\n`\nconst AllProducts = ({ data, openSidebar, addProduct }) => {\n  return (\n    <AllProductsWrapper>\n      <ProductInfoWrapper>\n        <ProductInfoSectionWrapper>\n          <h2>All products</h2>\n          <h5>A 360ยบ look at Lumin</h5>\n        </ProductInfoSectionWrapper>\n        <ProductInfoSectionWrapper>\n          <select defaultValue=\"0\">\n            <option value=\"0\">Filter by</option>\n          </select>\n        </ProductInfoSectionWrapper>\n      </ProductInfoWrapper>\n      <ProductsWrapper>\n        {data &&\n          data.products.map((prod) => <Product key={prod.id} {...prod} addToCart={addProduct} openSidebar={openSidebar} />)}\n      </ProductsWrapper>\n    </AllProductsWrapper>\n  )\n}\n\nexport default AllProducts\n\nAllProducts.propTypes = {\n  loading: PropTypes.bool,\n  openSidebar: PropTypes.func.isRequired,\n  addProduct: PropTypes.func.isRequired,\n  data: PropTypes.any\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport cart from './../../assets/cart.svg'\nconst StyledHeader = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 5fr;\n  align-items: center;\n  min-height: 3em;\n  border-top: solid 1px lightgrey;\n  border-bottom: solid 1px lightgrey;\n`\nconst StyledButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex: 1;\n\n  > div > span {\n    margin: 2em;\n  }\n`\n\nconst Header = ({ totalItems, open }) => {\n  return (\n    <StyledHeader>\n      <span style={{ textAlign: 'center' }}>LUMIN</span>\n      <StyledButtonsWrapper>\n        <div>\n          <span>Shop</span>\n          <span>Learn</span>\n        </div>\n        <div>\n          <span>Account</span>\n          <span style={{ margin: '0px 2em' }}>\n            <img\n              onClick={open}\n              style={{ width: 20, height: 20, fill: 'white' }}\n              src={cart}\n            >\n            </img>\n            {totalItems > 0 && <span>{ totalItems }</span>}\n          </span>\n        </div>\n      </StyledButtonsWrapper>\n    </StyledHeader>\n  )\n}\n\nexport default Header\n\nHeader.propTypes = {\n  totalItems: PropTypes.number.isRequired,\n  open: PropTypes.func.isRequired\n}\n","import styled from 'styled-components'\n\nexport const BackDrop = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 100;\n  top: 0;\n  right: 0;\n`\n\nexport const StyledSidebar = styled.div`\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  height: 100%;\n  background-color: whitesmoke;\n  position: fixed;\n  top: 0px;\n  overflow-y:auto;\n  right: 0px;\n  width: 40%;\n  z-index: 200;\n  box-shadow: 1px 0px 7px rgba(0, 0, 0, 0.5);\n\n  transition: transform 0.3s ease-out;\n\n  ${p =>\n    p.open ? 'transform: translateX(0)' : 'transform: translateX(100%);'};\n`\n","/* eslint-disable camelcase */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { MONEYFORMATTER } from '../../constants'\n\nconst CartProductWrapper = styled.div`\n  margin: 2em;\n  background-color:white;\n  padding: 0px 15px;\n  display:flex;\n  flex-flow:column;\n  > div > img{\n    max-width: 100px;\n    max-height: 100px;\n  }\n`\n\nconst AmountWrapper = styled.div`\n  border: solid 1px grey;\n  display: inline-flex;\n  > span {\n    margin: 1em;\n  }\n`\n\nconst AmountModifierWrapper = styled.span`\n  cursor: pointer;\n`\n\nconst FooterWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    margin-bottom: 1em;\n`\n\nconst CartProduct = ({ id, title, amount, price, image_url, modifyAmount, removeProduct }) => {\n  return <CartProductWrapper>\n    <div onClick={() => removeProduct(id)} style={{ textAlign: 'end', cursor: 'pointer' }}> x </div>\n    <div >{title}</div>\n    <div style={{ textAlign: 'end' }}><img src={image_url} alt={title}/></div>\n    <FooterWrapper>\n      <AmountWrapper>\n        <AmountModifierWrapper onClick={() => modifyAmount(id, false)}>-</AmountModifierWrapper>\n        <span> {amount}</span>\n        <AmountModifierWrapper onClick={() => modifyAmount(id, true)}>+</AmountModifierWrapper></AmountWrapper>\n\n      <span> {MONEYFORMATTER.format(amount * price)}</span>\n    </FooterWrapper>\n  </CartProductWrapper>\n}\nexport default CartProduct\n\nCartProduct.propTypes = {\n  id: PropTypes.number.isRequired,\n  price: PropTypes.number.isRequired,\n  amount: PropTypes.number.isRequired,\n  image_url: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  modifyAmount: PropTypes.func.isRequired,\n  removeProduct: PropTypes.func.isRequired\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { BackDrop, StyledSidebar } from './Sidebar.styled'\nimport CartProduct from '../CartProduct/CartProduct.component'\nimport { CURRENCIES, MONEYFORMATTER } from '../../constants'\nimport styled from 'styled-components'\n\nconst HeaderWrapper = styled.div`\n  display: flex;\n  flex-flow:row;\n  min-height: 2em;\n  justify-content: center;\n    align-items: center;\n}\n`\n\nconst StyledFooter = styled.footer`\n\n  display: flex;\n  flex-flow: column;\n  padding: 1em;\n  >div{\n    display: flex;\n    align-items:center;\n    justify-content: space-around;\n    border-top: solid 1px grey;\n    padding: 1em;\n  }\n  > button{\n    padding: 1em;\n    margin: 10px 0px;\n  }\n`\n\nconst StyledSelect = styled.select`\n  margin: 0px 2em;\n`\nconst Sidebar = ({ open, items, close, modifyAmount, removeProduct, setcurrency, currency }) => {\n  const total = items.reduce(\n    (prevValue, currentValue) => prevValue + currentValue.amount * currentValue.price,\n    0\n  )\n\n  const handleOnChange = (e) => {\n    setcurrency(e.target.value)\n  }\n  return <React.Fragment>\n    {open && <React.Fragment> <BackDrop />\n      <StyledSidebar open={open}>\n        <header>\n          <HeaderWrapper>\n            <div style={{ cursor: 'pointer' }} onClick={close}> {'<'} </div>\n            <span style={{ width: '100%', textAlign: 'center' }}>   Your cart </span>\n\n          </HeaderWrapper>\n          <StyledSelect value={currency} onChange={handleOnChange}>\n            {CURRENCIES.map(curr => <option key={curr} value={curr}> {curr}</option>)}\n          </StyledSelect>\n        </header>\n        <div>\n          {items.map(item => <CartProduct key={item.id} {...item} modifyAmount={modifyAmount} removeProduct={removeProduct} />)}\n        </div>\n        <StyledFooter>\n          <hr/>\n          <div>\n            <span> Subtotal </span>\n            <span> {MONEYFORMATTER.format(total) } </span>\n          </div>\n          <button style={{ backgroundColor: 'white' }}>Make this a subscription (save 20%)</button>\n          <button style={{ color: 'white', backgroundColor: '#4b5648' }}>Proceed to checkout</button>\n        </StyledFooter>\n      </StyledSidebar> </React.Fragment>}\n  </React.Fragment>\n}\nexport default Sidebar\n\nSidebar.propTypes = {\n  currency: PropTypes.string.isRequired,\n  open: PropTypes.bool.isRequired,\n  close: PropTypes.func.isRequired,\n  removeProduct: PropTypes.func.isRequired,\n  modifyAmount: PropTypes.func.isRequired,\n  setcurrency: PropTypes.func.isRequired,\n  items: PropTypes.any\n}\n","import React, { useState, useEffect } from 'react'\nimport { useQuery, gql } from '@apollo/client'\n\nimport './App.css'\nimport AllProducts from './components/AllProducts'\nimport Header from './components/Header'\nimport Sidebar from './components/Sidebar'\n\nfunction App () {\n  const [state, setstate] = useState([])\n  const [currency, setcurrency] = useState('USD')\n  const [openSidebar, setopenSidebar] = useState(false)\n  const ALL_PRODUCTS = gql`\n  query {\n    products {\n      id\n      price(currency: ${currency})\n      image_url\n      title\n    }\n  }\n  `\n  const { data } = useQuery(ALL_PRODUCTS)\n\n  const handleAddProduct = (product) => {\n    const current = [...state]\n    let newItem = current.find(x => x.id === product.id)\n    if (newItem) {\n      newItem.amount = newItem.amount + 1\n      setstate([...current])\n    } else {\n      newItem = { ...product, amount: 1 }\n      setstate([...current, newItem])\n    }\n  }\n\n  const handleModifyProductAmount = (productId, increment) => {\n    const current = [...state]\n    const item = current.find(x => x.id === productId)\n    if (increment === true) {\n      item.amount = item.amount + 1\n      setstate([...current])\n    } else {\n      item.amount = item.amount - 1\n      if (item.amount === 0) {\n        setstate([...current].filter(x => x.id !== item.id))\n      } else {\n        setstate([...current])\n      }\n    }\n  }\n\n  const handleRemoveProduct = (id) => {\n    const current = [...state]\n    setstate([...current].filter(x => x.id !== id))\n  }\n\n  useEffect(() => {\n    if (data) {\n      const current = [...state]\n      current.forEach(item => {\n        item.price = data.products.find(x => x.id === item.id).price\n      })\n      setstate([...current])\n    }\n  }, [data])\n  return (\n    <>\n      <Header totalItems={state.length} open={() => setopenSidebar(true)}/>\n      <AllProducts data={data} addProduct={handleAddProduct} openSidebar={() => setopenSidebar(true)}/>\n      <Sidebar items={state} open={openSidebar} close={() => setopenSidebar(false)} modifyAmount={handleModifyProductAmount} removeProduct={handleRemoveProduct} currency={currency} setcurrency={setcurrency}/>\n    </>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { ApolloClient, InMemoryCache, ApolloProvider } from '@apollo/client'\n\nconst client = new ApolloClient({\n  uri: 'https://pangaea-interviews.now.sh/api/graphql',\n  cache: new InMemoryCache()\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}